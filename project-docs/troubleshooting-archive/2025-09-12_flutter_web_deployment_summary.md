# ุฃุฑุดูู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง - ูุดุฑูุน Doctor_Call

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 12 ุณุจุชูุจุฑ 2025

ูุฐุง ุงููุณุชูุฏ ูุคุฑุดู ุงููุดุงูู ุงูุฑุฆูุณูุฉ ุงูุชู ูุงุฌููุงูุง ุฎูุงู ุชุทููุฑ ููุดุฑ ุชุทุจูู Flutter Webุ ูุงูุญููู ุงูุชู ุชู ุชุทุจูููุง. ุงููุฏู ูู ุชูุซูู ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ ูุชุณุฑูุน ุญู ุงููุดุงูู ุงูููุงุซูุฉ ูู ุงููุดุงุฑูุน ุงููุณุชูุจููุฉ.

---

## 1. ูุดููุฉ: ุงูุดุงุดุฉ ุงูุจูุถุงุก (White Screen of Death)

### ๐ ุงููุตู:
ุจุนุฏ ุจูุงุก ุงูุชุทุจูู ููุดุฑู ุนูู ุฎุงุฏู Apache (XAMPP)ุ ูุงู ุงูุชุทุจูู ูุธูุฑ ุดุงุดุฉ ุจูุถุงุก ูุงุฑุบุฉ ุชูุงููุง ุนูุฏ ุงููุตูู ุฅูู ุงูุฑุงุจุทุ ุนูู ุงูุฑุบู ูู ุฃู ุนูููุฉ ุงูุจูุงุก `flutter build web` ูุงูุช ุชูุชูู ุจูุฌุงุญ.

### ๐ ุนูููุฉ ุงูุชุดุฎูุต:
1.  **ูุญุต Console ุงููุชุตูุญ**: ูู ุชุธูุฑ ุฃุฎุทุงุก ูุงุถุญุฉ ูู ุงูุจุฏุงูุฉุ ููุง ุฒุงุฏ ูู ุตุนูุจุฉ ุงูุชุดุฎูุต.
2.  **ูุญุต ุชุจููุจ Network**: ุชุจูู ุฃู ุจุนุถ ุงููููุงุช ุงูุฃุณุงุณูุฉ ูุซู `main.dart.js` ูุงูุช ุชูุดู ูู ุงูุชุญููู (ุฎุทุฃ 404 Not Found).
3.  **ูุฑุงุฌุนุฉ `base-href`**: ูุงู ุงูุณุจุจ ุงูุฑุฆูุณู ูุฎุทุฃ 404 ูู ุนุฏู ุชุทุงุจู ูููุฉ `--base-href` ุงููุณุชุฎุฏูุฉ ูู ุฃูุฑ ุงูุจูุงุก ูุน ุงููุณุงุฑ ุงููุนูู ูููุดุฑูุน ุนูู ุงูุฎุงุฏู.
4.  **ูุดุงูู ุงูุชูุฌูู (Routing)**: ุญุชู ุจุนุฏ ุญู ูุดููุฉ `base-href`ุ ูุงูุช ุงูุดุงุดุฉ ุงูุจูุถุงุก ุชุธูุฑ ุนูุฏ ุชุญุฏูุซ ุงูุตูุญุฉ (F5) ุนูู ุฃู ูุณุงุฑ ูุฑุนู ุฏุงุฎู ุงูุชุทุจูู.

### โ ุงูุญููู ุงููุทุจูุฉ:

#### ุฃ. ุชูููู `base-href` ุจุดูู ุตุญูุญ:
- **ุงูุฃูุฑ:** `flutter build web --release --base-href /games/Doctor_Call/flutter_deploy/`
- **ุงููุชูุฌุฉ:** ุชูููู ุงูุชุทุจูู ูู ุชุญุฏูุฏ ูููุน ูููุงุชู (JS, assets, etc.) ุจุดูู ุตุญูุญ ุจุงููุณุจุฉ ูุฌุฐุฑ ุงูุฎุงุฏู.

#### ุจ. ุชูููู ุงูุฎุงุฏู ูุฅุฏุงุฑุฉ ุงูุชูุฌูู (Single Page App):
- ุชู ุฅูุดุงุก ููู `.htaccess` ูู ูุฌูุฏ ุงููุดุฑ (`flutter_deploy`) ูุฅุนุงุฏุฉ ุชูุฌูู ุฌููุน ุงูุทูุจุงุช ุบูุฑ ุงูููุฌูุฏุฉ (ูููู ุฃู ูุฌูุฏ) ุฅูู `index.html`. ูุฐุง ูุณูุญ ูู Flutter ุจูุนุงูุฌุฉ ุงูุชูุฌูู ูู ุฌุงูุจ ุงูุนููู.
- **ูุญุชูู `.htaccess`:**
  ```apache
  <IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /games/Doctor_Call/flutter_deploy/
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]
    RewriteRule ^ index.html [L]
  </IfModule>
  ```

#### ุฌ. ุฅุถุงูุฉ ูุนุงูุฌ ุฃุฎุทุงุก ุดุงูู ูู `main.dart`:
- ูููุน ุธููุฑ ุดุงุดุฉ ุจูุถุงุก ูุงุฑุบุฉ ุนูุฏ ุญุฏูุซ ุฃู ุงุณุชุซูุงุก (Exception) ูู ููุฏ Dart.
- ุชู ุชุบููู `runApp()` ุจู `runZonedGuarded` ูุชุนููู `FlutterError.onError` ู `ErrorWidget.builder` ูุนุฑุถ ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ ุนูู ุงูุดุงุดุฉ ุจุฏูุงู ูู ุงููุฑุงุบ.
- **ุงููุชูุฌุฉ:** ุฃุตุจุญุช ุงูุฃุฎุทุงุก ุชุธูุฑ ูุจุงุดุฑุฉ ุนูู ุงูุดุงุดุฉุ ููุง ูุณูู ุชุตุญูุญูุง.

---

## 2. ูุดููุฉ: ุธููุฑ ุฑููุฒ ุบูุฑ ูููููุฉ (Mojibake) ูู ุงูุตูุญุงุช ุงูุนุฑุจูุฉ

### ๐ ุงููุตู:
ุจุนุฏ ุชุนุฑูุจ ุตูุญุงุช ุงูุชุดุฎูุต (`debug.html`, `index_debug.html`)ุ ูุงู ุงููุต ุงูุนุฑุจู ูุธูุฑ ุนูู ุดูู ุฑููุฒ ุบุฑูุจุฉ ูุซู `รฐลธยงยช รยงรยฎรยชรยจรยงรยฑรยงรยช`.

### ๐ ุนูููุฉ ุงูุชุดุฎูุต:
- ุงููุดููุฉ ูุงูุช ูุงุถุญุฉ: ุนุฏู ุชุทุงุจู ุชุฑููุฒ ุงูููู (Encoding) ูุน ูุง ูุชููุนู ุงููุชุตูุญ. ุงููููุงุช ูุงูุช ูุญููุธุฉ ุจุชุฑููุฒ ANSI ุฃู ูุง ุดุงุจูุ ุจูููุง ุงููุชุตูุญ ูุงู ูุญุงูู ูุฑุงุกุชูุง ูู UTF-8.

### โ ุงูุญููู ุงููุทุจูุฉ:

#### ุฃ. ุชุญุฏูุฏ ุงูุชุฑููุฒ ูู HTML:
- ุชู ุฅุถุงูุฉ ุงููุณู `<meta charset="UTF-8">` ูู `<head>` ูุฌููุน ูููุงุช HTML.

#### ุจ. ุชุญุฏูุฏ ุงุชุฌุงู ููุบุฉ ุงูุตูุญุฉ:
- ุชู ุชุนุฏูู ูุณู `<html>` ููุตุจุญ `<html lang="ar" dir="rtl">` ูุชุญุณูู ุงูุนุฑุถ ูุงูุชูุงูููุฉ ูุน ุงููุบุฉ ุงูุนุฑุจูุฉ.

#### ุฌ. ุฅุนุงุฏุฉ ุญูุธ ุงููููุงุช ุจุงูุชุฑููุฒ ุงูุตุญูุญ:
- ุชู ุฅุนุงุฏุฉ ุฅูุดุงุก ุงููููุงุช ุงููุชุฃุซุฑุฉ ูุงูุชุฃูุฏ ูู ุญูุธูุง ุจุชุฑููุฒ **UTF-8** ุงูุตุญูุญ.

---

## 3. ูุดููุฉ: ุนุฏู ุชุญุฏูุซ ุงูุชุทุจูู ุจุณุจุจ ุงูุชุฎุฒูู ุงููุคูุช (Caching)

### ๐ ุงููุตู:
ุจุนุฏ ูุดุฑ ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุงูุชุทุจููุ ูุงู ุงููุชุตูุญ ูุง ูุฒุงู ูุนุฑุถ ุงูุฅุตุฏุงุฑ ุงููุฏูู ุจุณุจุจ ุงูุชุฎุฒูู ุงููุคูุช ุงูููู ูู Service Worker ููููุงุช JS.

### ๐ ุนูููุฉ ุงูุชุดุฎูุต:
- ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงููุทูุฑ ูู Chrome (ุชุจููุจ Application) ุฃุธูุฑ ูุฌูุฏ Service Worker ูุดุท ููููุงุช ูุฎุฒูุฉ ูู Cache Storage.

### โ ุงูุญููู ุงููุทุจูุฉ:

#### ุฃ. ุชุนุทูู PWA ุฃุซูุงุก ุงูุชุทููุฑ:
- ุงุณุชุฎุฏุงู `flutter build web --pwa-strategy=none` ุฃุซูุงุก ูุฑุญูุฉ ุงูุชุดุฎูุต ูููุน ุชุณุฌูู Service Worker.

#### ุจ. ุฅูุดุงุก ุฃุฏูุงุช ููุณุญ ุงููุงุด:
- ุชู ุฅูุดุงุก ุตูุญุฉ `clear_cache.html` ุชุญุชูู ุนูู ุฃุฒุฑุงุฑ ูุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ุงูุชุงููุฉ ุนุจุฑ JavaScript:
  - ุฅูุบุงุก ุชุณุฌูู Service Worker (`navigator.serviceWorker.getRegistrations()`).
  - ูุณุญ Cache Storage (`caches.keys()` ู `caches.delete()`).
  - ูุณุญ Local Storage ู Session Storage.

#### ุฌ. ุฅุถุงูุฉ Headers ูููุน ุงูุชุฎุฒูู ุงููุคูุช ูู `.htaccess`:
- ูููุณุงุนุฏุฉ ุฃุซูุงุก ุงูุชุทููุฑุ ุชู ุฅุถุงูุฉ headers ุชุทูุจ ูู ุงููุชุตูุญ ุนุฏู ุชุฎุฒูู ุงููููุงุช ูุคูุชุงู.
  ```apache
  <IfModule mod_headers.c>
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires 0
  </IfModule>
  ```

---

### ๐ก ุฏุฑูุณ ูุณุชูุงุฏุฉ:

1.  **ุงูุดุงุดุฉ ุงูุจูุถุงุก ุบุงูุจูุง ูุดููุฉ ูุณุงุฑ ุฃู ุชูุฌูู**: ุงุจุฏุฃ ุฏุงุฆููุง ุจุงูุชุญูู ูู `base-href` ู `.htaccess`.
2.  **ูุนุงูุฌ ุงูุฃุฎุทุงุก ุงูุนุงู ุถุฑูุฑู**: ูุง ุชุจุฏุฃ ูุดุฑูุน Flutter Web ุจุฏููู.
3.  **ุงูุชุฑููุฒ ุฃููุงู**: ุนูุฏ ุงูุชุนุงูู ูุน ูุบุงุช ุบูุฑ ูุงุชูููุฉุ ุชุฃูุฏ ูู `<meta charset="UTF-8">` ูู ูู ููุงู.
4.  **ุงููุงุด ุนุฏู ุงููุทูุฑ**: ูู ูุณุชุนุฏูุง ุฏุงุฆููุง ููุณุญ ุงููุงุด ุจููุฉ (DevTools, Unregister SW, Hard Reload).
5.  **ุฃุฏูุงุช ุงูุชุดุฎูุต ุงููุฎุตุตุฉ ุชููุฑ ุงูููุช**: ุฅูุดุงุก ุตูุญุงุช ุจุณูุทุฉ (ูุซู `debug.html`) ูุงุฎุชุจุงุฑ ุงููููุงุช ูุงูุดุจูุฉ ูุณุฑูุน ูู ุชุญุฏูุฏ ุงููุดุงูู ุจุดูู ูุจูุฑ.
